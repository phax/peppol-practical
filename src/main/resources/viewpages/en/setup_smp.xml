<!--

    Copyright (C) 2014 Philip Helger (www.helger.com)
    philip[at]helger[dot]com

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<p>
This page explains how to setup an OpenPEPPOL SMP from scratch.
SMP is the abbreviation for <em>Service Metadata Publisher</em> which is the decentralized
directory service of OpenPEPPOL.
SMPs are normally only operated by Service Providers and not by endpoints.
An SMP contains information about the endpoints of receivers - the URLs where to send the main
documents to.
The information within the SMP is structured by participant ID, document type ID and process ID.  
</p>

<h2>Prerequisites</h2>
<p>
  Before you can start you need to have the following information in place:
</p>
<ol>
  <li>As the very first step you need to sign the TIAs (Transport Infrastructure Agreements) with 
      <a href="http://www.peppol.eu/about_peppol/copy_of_how-to-join">OpenPEPPOL AISBL</a></li>
  <li>Afterwards you need to apply for an <em>SMP certificate</em> at OpenPEPPOL. 
      This certificate is required to run the SMP.</li>
  <li>You should have a look at the 
      <a href="https://joinup.ec.europa.eu/svn/peppol/PEPPOL_EIA/1-ICT_Architecture/1-ICT-Transport_Infrastructure/13-ICT-Models">official SMP specifications</a>.
      It is important to understand that the specifications only specify the reading access
      to an SMP but not the writing access. Nevertheless the implementation discussed here
      also contains the possibility to write new entries.</li>
  <li>You should be familiar with Java 1.6+</li>
  <li>Basic knowledge of a relational database (e.g. MySQL) is required</li>
  <li>Basic knowledge about Apache Tomcat (and optionally a web server) should be present</li>    
</ol>

<h2>Technical resources</h2>
<p>
  The SMP software to be used can be obtained from the 
  <a href="https://joinup.ec.europa.eu/software/cipaedelivery/description">CIPA e-Delivery</a>
  project maintained by the European Commission (and me) an hosted on
  <a href="https://joinup.ec.europa.eu/">joinup</a>.
  The <strong>sources</strong> reside in a publicly accessible 
  <a href="https://joinup.ec.europa.eu/svn/cipaedelivery/">Subversion repository</a>
  whereas the <strong>binary resources</strong> can be obtained from a
  <a href="https://joinup.ec.europa.eu/nexus/content/repositories/releases/">Nexus instance</a>.
  (Note: as per 2014-10-14 the internal linkage of the Nexus does not work so you have to type
  in the path directly to the URL - e.g. <code>https://joinup.ec.europa.eu/nexus/content/repositories/releases/eu/europa/ec/cipa/</code>)
</p>

<p>
  The technical SMP resources are divided into the following elements: 
</p>

<ul>
  <li><code>smp-webapp</code> - The SMP server that offers the query service. This server exists in two versions: one that supports only reading and one that supports reading and writing.</li>
  <li><code>smp-client-library</code> - An SMP client library to be used to access any SMP server.</li>
  <li><code>smp-client-console</code> - An SMP console client for querying the SMP from the commandline.</li>
</ul>
