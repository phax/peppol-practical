language: java

env:
  global:
    - MAVEN_OPTS=-Xmx1024m
  
install:
#  - mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V -U -P jdeps
  - mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V -U
  
cache:
  directories:
    - $HOME/.m2

jobs:
  include:
    - stage: test
      jdk: oraclejdk8
      script:
        - mvn test -B -P coverage
    - stage: test
      jdk: oraclejdk11
      script:
        - mvn test -B
    - stage: test
      jdk: openjdk11
      script:
        - mvn test -B
